# Your workflow name.
name: Deploy to heroku.

# Run workflow on every push to main branch.
on:
  push:
    branches: [main]

# Your workflows jobs.
jobs:
Â  build:
Â  Â  runs-on: ubuntu-latest
Â  Â  steps:
Â  Â  Â  - name: Checkout
Â  Â  Â  Â  uses: actions/checkout@v2

Â  Â  Â  # Install Heroku CLI
Â  Â  Â  - name: Install Heroku CLI
Â  Â  Â  Â  run: |
Â  Â  Â  Â  Â  curl https://cli-assets.heroku.com/install.sh | sh

Â  Â  Â  # ðŸš€ Deploy to Heroku
Â  Â  Â  - name: Build, Push and Release a Docker container to Heroku
Â  Â  Â  Â  uses: gonuit/heroku-docker-deploy@v1.3.3
Â  Â  Â  Â  with:
Â  Â  Â  Â  Â  email: ${{ secrets.HEROKU_EMAIL }}
Â  Â  Â  Â  Â  heroku_api_key: ${{ secrets.HEROKU_API_KEY }}
Â  Â  Â  Â  Â  heroku_app_name: ${{ secrets.HEROKU_APP_NAME }}
Â  Â  Â  Â  Â  dockerfile_directory: ./
Â  Â  Â  Â  Â  dockerfile_name: Dockerfile
Â  Â  Â  Â  Â  docker_options: "--no-cache"
Â  Â  Â  Â  Â  process_type: web